{% extends 'base.html' %}
{% load static %} 

{% block content %} 

<div>
    {% if request.user == profile %}
    <a  href="{% url 'users:updateProfile' user.id %}">Edit Details</a>
    {% endif %}     
    
</div>
{% if request.user == profile %}
<a class="new_story" href="{% url 'news:newStory' %}">Write New story</a>
{% endif %}
<div>
<h2> Welcome to {{ profile.username }}'s profile </h2> 
</div>

 

<div>   
    <div>
        <h3>Bio</h3>
    </div>

    <div>        
        {% if profile.bio %}
        {{ profile.bio }} 
        {% else %} 
        <p> This user has yet to write a bio <p>            
        {% endif %}
    </div>
</div>


<div>     
    My Stories:

        <ul>   
        {% for story in profile.newsstory_set.all %} 
        
        <li><h2><a href="{% url 'news:story' story.id %}">{{ story.title }}</a></h2></li>  
        
        {% if request.user == profile %}
        <a class="form-text" href="{% url 'news:updateStory' story.id %}"> Edit </a> | <a class="form-text" href="{% url 'news:deleteStory' story.id %}"> Delete</a>
        {% endif %}         
        {% endfor %}       
     </ul>    
 
</div>

{% endblock %}
